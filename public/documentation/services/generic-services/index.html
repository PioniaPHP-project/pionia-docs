<!doctype html>
<html lang="en" data-bs-theme="auto">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><link rel="preload" href="http://localhost:1313/fonts/vendor/jost/jost-v4-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="http://localhost:1313/fonts/vendor/jost/jost-v4-latin-500.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="http://localhost:1313/fonts/vendor/jost/jost-v4-latin-700.woff2" as="font" type="font/woff2" crossorigin>
<script 
  src="/js/color-mode.f14b3e296de1d0b69e75af684b62a4a912a2cadab04e36123407cd8388204f1d.js"
  integrity="sha256-8Us&#43;KW3h0Laeda9oS2KkqRKiytqwTjYSNAfNg4ggTx0=">
</script>


<link rel="stylesheet" href="/main.01b0834d5af51b24812d02878d09c8d7677d6b8af13164fb50215889dc19aaefd0e9366c13b45a9a57ae481dfd1836bce46b5ebfe461d56e3498b9443d8c5e27.css" integrity="sha512-AbCDTVr1GySBLQKHjQnI12d9a4rxMWT7UCFYidwZqu/Q6TZsE7RamleuSB39GDa85Gtev&#43;Rh1W40mLlEPYxeJw==" crossorigin="anonymous">

<noscript><style>img.lazyload { display: none; }</style></noscript><base href="http://localhost:1313/documentation/services/generic-services/">
  <link rel="canonical" href="http://localhost:1313/documentation/services/generic-services/">
<title>Pionia Services</title>
<meta name="description" content="Handling Services in Pionia">

    
    <link rel="icon" href="/favicon.ico" sizes="32x32">
    
      <link rel="icon" href="/favicon.svg" type="image/png">
    
      <link
        rel="apple-touch-icon"
        href="/apple-touch-icon.png"
        sizes="180x180"
        type="image/png"
      >
      <link
        rel="icon"
        href="/favicon-192x192.png"
        sizes="192x192"
        type="image/png"
      >
      <link
        rel="icon"
        href="/favicon-512x512.png"
        sizes="512x512"
        type="image/png"
      >
<link rel="manifest" href="/manifest.webmanifest">
<meta property="og:title" content="Generic Services">
<meta property="og:description" content="Guides you through services processing in Pionia Framework.">
<meta property="og:type" content="article">
<meta property="og:url" content="http://localhost:1313/documentation/services/generic-services/"><meta property="og:image" content="http://localhost:1313/pionia.png"><meta property="article:section" content="docs">
<meta property="article:published_time" content="2024-06-29T19:57:09+03:00">
<meta property="article:modified_time" content="2024-07-31T19:11:06+03:00"><meta property="og:site_name" content="Pionia Framework">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://localhost:1313/pionia.png"><meta name="twitter:title" content="Generic Services">
<meta name="twitter:description" content="Guides you through services processing in Pionia Framework.">
<meta name="twitter:site" content="@pionia">

    
    
    
    <script type="application/ld+json">
  {
   "@context": "https://schema.org",
   "@type": "BreadcrumbList",
   "itemListElement": [
     {
       "@type": "ListItem",
       "item": "http://localhost:1313/",
       "name": "Pionia Framework",
       "position": 1
     },
     {
       "@type": "ListItem",
       "item": "http://localhost:1313/docs/",
       "name": "Docs",
       "position": 2
     },
     {
       "@type": "ListItem",
       "item": "http://localhost:1313/docs/documentation/",
       "name": "Documentation",
       "position": 3
     },
     {
       "@type": "ListItem",
       "item": "http://localhost:1313/docs/documentation/services/",
       "name": "Services",
       "position": 4
     },
     {
       "@type": "ListItem",
       "name": "Generic Services",
       "position": 5
     }
   ]
 }
</script>





</head>

  
  <body class="single section docs" data-bs-spy="scroll" data-bs-target="#toc" data-bs-root-margin="0px 0px -60%" data-bs-smooth-scroll="true" tabindex="0">
    <div class="sticky-top">
<div class="header-bar"></div>
<header class="navbar navbar-expand-lg">
  <div class="container-sm">
  
    <a class="navbar-brand me-auto me-lg-3" href="/">Pionia</a>

    
    
    <button type="button" id="searchToggleMobile" class="btn btn-link nav-link mx-2 d-lg-none" aria-label="Search website">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <circle cx="10" cy="10" r="7"></circle>
        <line x1="21" y1="21" x2="15" y2="15"></line>
      </svg>
    </button>
    
    <button class="btn btn-link d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavSection" aria-controls="offcanvasNavSection" aria-label="Open section navigation menu">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-dots-vertical" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path>
        <path d="M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path>
        <path d="M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path>
      </svg>
    </button>
    <div class="offcanvas offcanvas-start d-lg-none" tabindex="-1" id="offcanvasNavSection" aria-labelledby="offcanvasNavSectionLabel">
      <div class="header-bar"></div>
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasNavSectionLabel">Docs</h5>
        <button type="button" class="btn btn-link nav-link p-0 ms-auto" data-bs-dismiss="offcanvas" aria-label="Close">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path d="M18 6l-12 12"></path>
            <path d="M6 6l12 12"></path>
          </svg>
        </button>
      </div>
      <div class="offcanvas-body">
        <aside class="doks-sidebar mt-n3">
          <nav id="doks-docs-nav" aria-label="Tertiary navigation">
            
  
    
<nav class="section-nav docs-links">
  <ul class="list-unstyled">

  <li>
    <details open open>
      <summary>Documentation</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/documentation/introduction/">Introduction</a>
  </li>

  <li>
      <a href="/documentation/why-pionia/">Why Pionia?</a>
  </li>

  <li>
      <a href="/documentation/application-structure/">Application Structure</a>
  </li>

  <li>
      <a href="/documentation/api-tutorial/">API Tutorial</a>
  </li>

  <li>
    <details open open>
      <summary>Services</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/documentation/services/services/">Services</a>
  </li>

  <li class="active" >
      <a aria-current="page" href="/documentation/services/generic-services/">Generic Services</a>
  </li>

  <li>
      <a href="/documentation/services/advanced-generic-services/">Advanced Generic Services</a>
  </li>
      </ul>
    </details>
  </li>

  <li>
      <a href="/documentation/requests-and-responses/">Requests and Responses</a>
  </li>

  <li>
      <a href="/documentation/security-authentication-and-authorization/">Security - Authentication and Authorization</a>
  </li>

  <li>
      <a href="/documentation/jwt-authentication/">JWT Authentication</a>
  </li>

  <li>
      <a href="/documentation/logging-in-pionia/">Logging in Pionia</a>
  </li>

  <li>
    <details open>
      <summary>Database</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/documentation/database/configuration-getting-started/">Configuration - Getting Started</a>
  </li>

  <li>
      <a href="/documentation/database/making-queries/">Making Queries</a>
  </li>

  <li>
      <a href="/documentation/database/queries-with-filtering/">Queries with Filtering</a>
  </li>

  <li>
      <a href="/documentation/database/using-functions-aggregation/">Using Functions - Aggregation</a>
  </li>
      </ul>
    </details>
  </li>
      </ul>
    </details>
  </li>

  <li>
    <details open>
      <summary>Moonlight Architecture</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/moonlight/introduction-to-moonlight-architecture/">Introduction to MoonLight Architecture</a>
  </li>

  <li>
      <a href="/moonlight/security-in-moonlight/">Security in moonlight</a>
  </li>

  <li>
      <a href="/moonlight/api-versioning-in-moonlight/">API Versioning in Moonlight</a>
  </li>
      </ul>
    </details>
  </li>
  </ul>
</nav>

  

          </nav>
        </aside>
      </div>
    </div>
    
    <button class="btn btn-link nav-link mx-2 order-3 d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavMain" aria-controls="offcanvasNavMain" aria-label="Open main navigation menu">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <line x1="4" y1="8" x2="20" y2="8"></line>
        <line x1="4" y1="16" x2="20" y2="16"></line>
      </svg>
    </button>

    
    <div class="offcanvas offcanvas-end h-auto" tabindex="-1" id="offcanvasNavMain" aria-labelledby="offcanvasNavMainLabel">
      <div class="header-bar d-lg-none"></div>
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasNavMainLabel">Pionia</h5>
        <button type="button" class="btn btn-link nav-link p-0 ms-auto" data-bs-dismiss="offcanvas" aria-label="Close">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path d="M18 6l-12 12"></path>
            <path d="M6 6l12 12"></path>
         </svg>
        </button>
      </div>
      
      <div class="offcanvas-body d-flex flex-column flex-lg-row justify-content-between">
        <ul class="navbar-nav flex-grow-1"><li class="nav-item">
                <a class="nav-link" href="http://localhost:1313/documentation/introduction/">Documentation</a>
              </li>
            <li class="nav-item">
                <a class="nav-link" href="http://localhost:1313/moonlight/introduction-to-moonlight-architecture/">Moonlight</a>
              </li>
            <li class="nav-item">
                <a class="nav-link" href="http://localhost:1313/documentation/api-tutorial/">Tutorial</a>
              </li>
            </ul>

        
        
        <button type="button" id="searchToggleDesktop" class="btn btn-link nav-link p-2 d-none d-lg-block" aria-label="Search website">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <circle cx="10" cy="10" r="7"></circle>
            <line x1="21" y1="21" x2="15" y2="15"></line>
          </svg>
        </button>
        
        
        
        <button id="buttonColorMode" class="btn btn-link mx-auto nav-link p-0 ms-lg-2 me-lg-1" type="button" aria-label="Toggle theme">
          <svg data-bs-theme-value="dark" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-moon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
          </svg>
          <svg data-bs-theme-value="light" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sun" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path d="M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0m-5 0h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7"></path>
          </svg>
        </button>
        
        <ul id="socialMenu" class="nav mx-auto flex-row order-lg-4">
          <li class="nav-item">
              <a class="nav-link social-link" href="https://github.com/PioniaPHP-project/pionia-docs"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"></path></svg><small class="ms-2 visually-hidden">GitHub</small></a>
            </li>
          </ul>
        
        <a class="btn btn-primary rounded-pill mt-2 btn-block d-lg-none" href="http://localhost:1313/documentation/introduction/#get-started" role="button">Get started</a>
        </div>
    </div>

    
    <a class="btn btn-primary rounded-pill ms-3 me-2 px-4 order-lg-3 d-none d-lg-block" href="http://localhost:1313/documentation/introduction/#get-started" role="button">Get started</a>
    </div>
</header>
</div>

<div class="modal" id="searchModal" tabindex="-1" aria-labelledby="searchModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-fullscreen-md-down">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5 visually-hidden" id="searchModalLabel">Search</h1>
        <button type="button" class="btn-close visually-hidden" data-bs-dismiss="modal" aria-label="Close"></button>
        <div class="search-input flex-grow-1 d-none">
          <form id="search-form" class="search-form" action="#" method="post" accept-charset="UTF-8" role="search">
            <label for="query" class="visually-hidden">Search</label>
            <div class="d-flex">
              <input type="search" id="query" name="query" class="search-text form-control form-control-lg" placeholder="Search" aria-label="Search" maxlength="128" autocomplete="off">
              <button type="button" class="btn btn-link text-decoration-none px-0 ms-3 d-md-none" data-bs-dismiss="modal" aria-label="Close">Cancel</button>
            </div>
          </form>
        </div>
      </div>
      <div class="modal-body">
        <p class="search-loading status message d-none mt-3 text-center">Loading search indexâ€¦</p>
        <p class="search-no-recent message d-none mt-3 text-center">No recent searches</p>
        <p class="search-no-results message d-none mt-3 text-center">No results for "<strong><span class="query-no-results">Query here</span></strong>"</p>
        <div id="searchResults" class="search-results"></div>
        <template>
          <article class="search-result list-view">
            <div class="card my-3">
              <div class="card-body">
                <header>
                  <h2 class="h5 title title-submitted mb-0"><a class="stretched-link text-decoration-none text-reset" href="#">Title here</a></h2>
                  <div class="submitted"><time class="created-date">Date here</time></div>
                </header>
                <div class="content">Summary here</div>
              </div>
            </div>
          </article>
        </template>
      </div>
      <div class="modal-footer">
        <ul class="list-inline me-auto d-none d-md-block">
          <li class="list-inline-item"><kbd class="me-2"><svg width="15" height="15" aria-label="Enter key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3"></path></g></svg></kbd><span class="DocSearch-Label">to select</span></li>
          <li class="list-inline-item"><kbd class="me-2"><svg width="15" height="15" aria-label="Arrow down" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 3.5v8M10.5 8.5l-3 3-3-3"></path></g></svg></kbd><kbd class="me-2"><svg width="15" height="15" aria-label="Arrow up" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 11.5v-8M10.5 6.5l-3-3-3 3"></path></g></svg></kbd><span class="DocSearch-Label">to navigate</span></li>
          <li class="list-inline-item"><kbd class="me-2"><svg width="15" height="15" aria-label="Escape key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956"></path></g></svg></kbd><span class="DocSearch-Label">to close</span></li>
        </ul>
        <p class="d-md-none">Search by <a class="text-decoration-none" href="https://github.com/nextapps-de/flexsearch">FlexSearch</a></p>
      </div>
    </div>
  </div>
</div>


    <div class="wrap container-sm" role="document">
      <div class="content">
      
        
	<div class="row flex-xl-nowrap">
		<div class="col-lg-5 col-xl-4 docs-sidebar docs-sidebar-offset d-none d-lg-block">
			
  
    
<nav class="section-nav docs-links">
  <ul class="list-unstyled">

  <li>
    <details open open>
      <summary>Documentation</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/documentation/introduction/">Introduction</a>
  </li>

  <li>
      <a href="/documentation/why-pionia/">Why Pionia?</a>
  </li>

  <li>
      <a href="/documentation/application-structure/">Application Structure</a>
  </li>

  <li>
      <a href="/documentation/api-tutorial/">API Tutorial</a>
  </li>

  <li>
    <details open open>
      <summary>Services</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/documentation/services/services/">Services</a>
  </li>

  <li class="active" >
      <a aria-current="page" href="/documentation/services/generic-services/">Generic Services</a>
  </li>

  <li>
      <a href="/documentation/services/advanced-generic-services/">Advanced Generic Services</a>
  </li>
      </ul>
    </details>
  </li>

  <li>
      <a href="/documentation/requests-and-responses/">Requests and Responses</a>
  </li>

  <li>
      <a href="/documentation/security-authentication-and-authorization/">Security - Authentication and Authorization</a>
  </li>

  <li>
      <a href="/documentation/jwt-authentication/">JWT Authentication</a>
  </li>

  <li>
      <a href="/documentation/logging-in-pionia/">Logging in Pionia</a>
  </li>

  <li>
    <details open>
      <summary>Database</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/documentation/database/configuration-getting-started/">Configuration - Getting Started</a>
  </li>

  <li>
      <a href="/documentation/database/making-queries/">Making Queries</a>
  </li>

  <li>
      <a href="/documentation/database/queries-with-filtering/">Queries with Filtering</a>
  </li>

  <li>
      <a href="/documentation/database/using-functions-aggregation/">Using Functions - Aggregation</a>
  </li>
      </ul>
    </details>
  </li>
      </ul>
    </details>
  </li>

  <li>
    <details open>
      <summary>Moonlight Architecture</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/moonlight/introduction-to-moonlight-architecture/">Introduction to MoonLight Architecture</a>
  </li>

  <li>
      <a href="/moonlight/security-in-moonlight/">Security in moonlight</a>
  </li>

  <li>
      <a href="/moonlight/api-versioning-in-moonlight/">API Versioning in Moonlight</a>
  </li>
      </ul>
    </details>
  </li>
  </ul>
</nav>

  

		</div>
		
		<nav class="docs-toc docs-toc-offset d-none d-xl-block col-xl-3" aria-label="Secondary navigation">
			<div class="page-links">
  <h3>On this page</h3>
    <nav id="toc">
  <ul>
    <li><a href="#the-mixins">The Mixins</a>
      <ul>
        <li><a href="#createmixin">CreateMixin</a></li>
        <li><a href="#deletemixin">DeleteMixin</a></li>
        <li><a href="#listmixin">ListMixin</a></li>
        <li><a href="#retrievemixin">RetrieveMixin</a></li>
        <li><a href="#randommixin">RandomMixin</a></li>
        <li><a href="#updatemixin">UpdateMixin</a></li>
      </ul>
    </li>
    <li><a href="#the-genericservice">The GenericService</a></li>
    <li><a href="#retrievecreateupdateservice">RetrieveCreateUpdateService</a></li>
    <li><a href="#retrievelistcreateservice">RetrieveListCreateService</a></li>
    <li><a href="#retrievelistcreateupdatedeleteservice">RetrieveListCreateUpdateDeleteService</a></li>
    <li><a href="#retrievelistdeleteservice">RetrieveListDeleteService</a></li>
    <li><a href="#retrievelistrandomservice">RetrieveListRandomService</a></li>
    <li><a href="#retrievelistupdatedeleteservice">RetrieveListUpdateDeleteService</a></li>
    <li><a href="#retrievelistupdateservice">RetrieveListUpdateService</a></li>
    <li><a href="#universalgenericservice">UniversalGenericService</a></li>
    <li><a href="#customization">Customization</a>
      <ul>
        <li><a href="#table">$table</a></li>
        <li><a href="#pk_field">$pk_field</a></li>
        <li><a href="#createcolumns">$createColumns</a></li>
        <li><a href="#updatecolumns">$updateColumns</a></li>
        <li><a href="#listcolumns">$listColumns</a></li>
        <li><a href="#limit">$limit</a></li>
        <li><a href="#offset">$offset</a></li>
      </ul>
    </li>
    <li><a href="#overriding-actions">Overriding Actions</a></li>
    <li><a href="#adding-custom-actions">Adding Custom Actions</a></li>
    <li><a href="#overriding-getters">Overriding getters</a></li>
    <li><a href="#generic-services-signalshooks">Generic Services Signals(Hooks)</a>
      <ul>
        <li><a href="#precreate">preCreate</a></li>
        <li><a href="#postcreate">postCreate</a></li>
        <li><a href="#preupdate">preUpdate</a></li>
        <li><a href="#postupdate">postUpdate</a></li>
        <li><a href="#predelete">preDelete</a></li>
        <li><a href="#postdelete">postDelete</a></li>
        <li><a href="#why-would-you-need-these-hooks">Why would you need these hooks?</a></li>
      </ul>
    </li>
    <li><a href="#securing-generic-services">Securing Generic Services.</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>
</div>

		</nav>
		<main class="docs-content col-lg-11 col-xl-9">
		
			<h1>Generic Services</h1>
			
			<nav class="toc-mobile d-xl-none" aria-label="Quaternary navigation">
				<details>
    <summary>On this page</summary>
    <div class="page-links">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#the-mixins">The Mixins</a>
      <ul>
        <li><a href="#createmixin">CreateMixin</a></li>
        <li><a href="#deletemixin">DeleteMixin</a></li>
        <li><a href="#listmixin">ListMixin</a></li>
        <li><a href="#retrievemixin">RetrieveMixin</a></li>
        <li><a href="#randommixin">RandomMixin</a></li>
        <li><a href="#updatemixin">UpdateMixin</a></li>
      </ul>
    </li>
    <li><a href="#the-genericservice">The GenericService</a></li>
    <li><a href="#retrievecreateupdateservice">RetrieveCreateUpdateService</a></li>
    <li><a href="#retrievelistcreateservice">RetrieveListCreateService</a></li>
    <li><a href="#retrievelistcreateupdatedeleteservice">RetrieveListCreateUpdateDeleteService</a></li>
    <li><a href="#retrievelistdeleteservice">RetrieveListDeleteService</a></li>
    <li><a href="#retrievelistrandomservice">RetrieveListRandomService</a></li>
    <li><a href="#retrievelistupdatedeleteservice">RetrieveListUpdateDeleteService</a></li>
    <li><a href="#retrievelistupdateservice">RetrieveListUpdateService</a></li>
    <li><a href="#universalgenericservice">UniversalGenericService</a></li>
    <li><a href="#customization">Customization</a>
      <ul>
        <li><a href="#table">$table</a></li>
        <li><a href="#pk_field">$pk_field</a></li>
        <li><a href="#createcolumns">$createColumns</a></li>
        <li><a href="#updatecolumns">$updateColumns</a></li>
        <li><a href="#listcolumns">$listColumns</a></li>
        <li><a href="#limit">$limit</a></li>
        <li><a href="#offset">$offset</a></li>
      </ul>
    </li>
    <li><a href="#overriding-actions">Overriding Actions</a></li>
    <li><a href="#adding-custom-actions">Adding Custom Actions</a></li>
    <li><a href="#overriding-getters">Overriding getters</a></li>
    <li><a href="#generic-services-signalshooks">Generic Services Signals(Hooks)</a>
      <ul>
        <li><a href="#precreate">preCreate</a></li>
        <li><a href="#postcreate">postCreate</a></li>
        <li><a href="#preupdate">preUpdate</a></li>
        <li><a href="#postupdate">postUpdate</a></li>
        <li><a href="#predelete">preDelete</a></li>
        <li><a href="#postdelete">postDelete</a></li>
        <li><a href="#why-would-you-need-these-hooks">Why would you need these hooks?</a></li>
      </ul>
    </li>
    <li><a href="#securing-generic-services">Securing Generic Services.</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
  </details>

			</nav>
			<div class="callout callout-tip d-flex flex-row mt-4 mb-4 pt-4 pe-4 pb-2 ps-3">
  
  <div class="callout-content">
    
    <div class="callout-body">
      <p>This section assumes that you have a basic understanding how Services work in Pionia. If you haven&rsquo;t, you can check the <a href="/documentation/services/">Services section</a> first.</p>

    </div>
  </div>
</div>

<h1 id="introduction">Introduction</h1>
<p>Pionia Generic Services get their inspiration from Django Rest Framework&rsquo;s Generic Views. They provide a set of actions that are common in most CRUD applications.
This is to help you focus on the complex business logic and not the repetitive CRUD work.
But it is not just CRUD, you can query random and paginated data too. You can also add your own actions as you see fit.
This feature is available starting from the core version of v1.1.2.</p>
<h2 id="the-mixins">The Mixins<a href="#the-mixins" class="anchor" aria-hidden="true">#</a> </h2>
<p>There a few mixins that have been provided to help you with the CRUD operations. These mixins are:</p>
<h3 id="createmixin">CreateMixin<a href="#createmixin" class="anchor" aria-hidden="true">#</a> </h3>
<p>This mixin adds the <code>create</code> action to whatever generic service you have added. It is used to create a new record in the database.
You can specify the columns to create in the table by providing the <code>$createColumns</code> array property in the service.</p>
<h3 id="deletemixin">DeleteMixin<a href="#deletemixin" class="anchor" aria-hidden="true">#</a> </h3>
<p>This mixin adds the <code>delete</code> action to whatever generic service you have added.
It is used to delete a record from the database by <code>pk_field</code> defined in the service.</p>
<h3 id="listmixin">ListMixin<a href="#listmixin" class="anchor" aria-hidden="true">#</a> </h3>
<p>This mixin adds the <code>list</code> action to whatever generic service you have added. It also detects if the request is paginated
and applies the pagination to the data accordingly. You can customise the columns to return by defining the
<code>$listColumns</code> array property in the service.</p>
<h3 id="retrievemixin">RetrieveMixin<a href="#retrievemixin" class="anchor" aria-hidden="true">#</a> </h3>
<p>This mixins adds two actions which actually perform the same operation. The <code>retrieve</code> and the <code>details</code> action.
They are used to get a single record from the database by the <code>pk_field</code> defined in the service.
If the <code>$listColumns</code> property is defined, it will return only those columns.</p>
<h3 id="randommixin">RandomMixin<a href="#randommixin" class="anchor" aria-hidden="true">#</a> </h3>
<p>This mixin adds the <code>random</code> action to whatever generic service you have added. The number of records returned is by default <code>1</code>.
But this can be overridden by defining the <code>size</code> or <code>limit</code> parameter in the request. If the size is finally one, it will return
an object otherwise an array of objects.</p>
<h3 id="updatemixin">UpdateMixin<a href="#updatemixin" class="anchor" aria-hidden="true">#</a> </h3>
<p>This mixin adds the <code>update</code> action to whatever generic service you have added. It is used to update a record in the database.
You can specify the columns to update in the table by providing the <code>$updateColumns</code> array property in the service. If these are not defined,
then all/only the table columns that are defined in the request will be updated(partial update). Also, the item to update will depend on the
<code>pk_field</code> defined in the service. By default this is <code>id</code>.</p>
<div class="callout callout-note d-flex flex-row mt-4 mb-4 pt-4 pe-4 pb-2 ps-3">
  
  <div class="callout-content">
    
    <div class="callout-body">
      <p>The mixins are not to be used outside services that extend the <code>GenericService</code> class. They are already included in the generic services.
But if you want to use them, make sure you&rsquo;re extending the <code>GenericService</code> class or any of the generic services defined below.</p>

    </div>
  </div>
</div>

<h2 id="the-genericservice">The GenericService<a href="#the-genericservice" class="anchor" aria-hidden="true">#</a> </h2>
<p>This is the core class that provides the basis for all the actions. It is a class that extends the <code>BaseRestService</code> class so you no longer need to do that.
All available methods can <a href="https://pioniaphp-project.github.io/PioniaCore/classes/Pionia-Generics-Base-GenericService.html">be found here in the api reference</a>.</p>
<p>You don&rsquo;t need to interact with this class directly but through the following generic services.</p>
<ol>
<li><a href="#retrievecreateupdateservice">RetrieveCreateUpdateService</a></li>
<li><a href="#retrievelistcreateservice">RetrieveListCreateService</a></li>
<li><a href="#retrievelistcreateupdatedeleteservice">RetrieveListCreateUpdateDeleteService</a></li>
<li><a href="#retrievelistdeleteservice">RetrieveListDeleteService</a></li>
<li><a href="#retrievelistrandomservice">RetrieveListRandomService</a></li>
<li><a href="#retrievelistupdatedeleteservice">RetrieveListUpdateDeleteService</a></li>
<li><a href="#retrievelistupdateservice">RetrieveListUpdateService</a></li>
<li><a href="#universalgenericservice">UniversalGenericService</a></li>
</ol>
<p>Creating you custom generic service can be done as follows:</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Pionia\Generics\Base\GenericService</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">CreateRandomService</span> <span class="k">extends</span> <span class="nx">GenericService</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">use</span> <span class="nx">CreateMixin</span><span class="p">,</span> <span class="nx">RandomMixin</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>Now you can let you services extend this class and you will have the <code>create</code> and <code>random</code> actions available.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">application\services\CreateRandomService</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">MyService</span> <span class="k">extends</span> <span class="nx">CreateRandomService</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="nx">string</span> <span class="nv">$table</span> <span class="o">=</span> <span class="s1">&#39;users&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">array</span> <span class="nv">$createColumns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;gender&#39;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>Remember you still need to register all these service as usual. In your request you can now call the <code>create</code> and <code>random</code> actions.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;SERVICE&#34;</span><span class="p">:</span> <span class="s2">&#34;create_random&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;ACTION&#34;</span><span class="p">:</span> <span class="s2">&#34;random&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;size&#34;</span><span class="p">:</span> <span class="mi">3</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>The above request will return 3 random records from the <code>users</code> table.</p>
<div class="callout callout-note d-flex flex-row mt-4 mb-4 pt-4 pe-4 pb-2 ps-3">
  
  <div class="callout-content">
    
    <div class="callout-body">
      <p><code>GenericService</code> inherits from <code>BaseRestService</code> which means that all the methods in the <code>BaseRestService</code> are available in the <code>GenericService</code>.</p>

    </div>
  </div>
</div>

<h2 id="retrievecreateupdateservice">RetrieveCreateUpdateService<a href="#retrievecreateupdateservice" class="anchor" aria-hidden="true">#</a> </h2>
<p>This generic service provides the <code>retrieve</code>, <code>create</code> and <code>update</code> actions.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Pionia\Generics\Base\RetrieveCreateUpdateService</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">StudentService</span> <span class="k">extends</span> <span class="nx">RetrieveCreateUpdateService</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="nx">string</span> <span class="nv">$table</span> <span class="o">=</span> <span class="s1">&#39;students&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">array</span> <span class="nv">$createColumns</span> <span class="o">=</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<h2 id="retrievelistcreateservice">RetrieveListCreateService<a href="#retrievelistcreateservice" class="anchor" aria-hidden="true">#</a> </h2>
<p>This generic service provides the <code>retrieve</code>, <code>list</code> and <code>create</code> actions.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Pionia\Generics\Base\RetrieveListCreateService</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">StudentService</span> <span class="k">extends</span> <span class="nx">RetrieveListCreateService</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="nx">string</span> <span class="nv">$table</span> <span class="o">=</span> <span class="s1">&#39;students&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">array</span> <span class="nv">$createColumns</span> <span class="o">=</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<h2 id="retrievelistcreateupdatedeleteservice">RetrieveListCreateUpdateDeleteService<a href="#retrievelistcreateupdatedeleteservice" class="anchor" aria-hidden="true">#</a> </h2>
<p>This generic service provides the <code>retrieve</code>, <code>list</code>, <code>create</code>, <code>update</code> and <code>delete</code> actions.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Pionia\Generics\Base\RetrieveListCreateUpdateDeleteService</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">StudentService</span> <span class="k">extends</span> <span class="nx">RetrieveListCreateUpdateDeleteService</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="nx">string</span> <span class="nv">$table</span> <span class="o">=</span> <span class="s1">&#39;students&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">array</span> <span class="nv">$createColumns</span> <span class="o">=</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="o">?</span><span class="k">array</span> <span class="nv">$updateColumns</span> <span class="o">=</span> <span class="k">null</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<h2 id="retrievelistdeleteservice">RetrieveListDeleteService<a href="#retrievelistdeleteservice" class="anchor" aria-hidden="true">#</a> </h2>
<p>This generic service provides the <code>retrieve</code>, <code>list</code> and <code>delete</code> actions.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Pionia\Generics\Base\RetrieveListDeleteService</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">StudentService</span> <span class="k">extends</span> <span class="nx">RetrieveListDeleteService</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="nx">string</span> <span class="nv">$table</span> <span class="o">=</span> <span class="s1">&#39;students&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<h2 id="retrievelistrandomservice">RetrieveListRandomService<a href="#retrievelistrandomservice" class="anchor" aria-hidden="true">#</a> </h2>
<p>This generic service provides the <code>retrieve</code>, <code>list</code> and <code>random</code> actions.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Pionia\Generics\Base\RetrieveListRandomService</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">StudentService</span> <span class="k">extends</span> <span class="nx">RetrieveListRandomService</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="nx">string</span> <span class="nv">$table</span> <span class="o">=</span> <span class="s1">&#39;students&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<h2 id="retrievelistupdatedeleteservice">RetrieveListUpdateDeleteService<a href="#retrievelistupdatedeleteservice" class="anchor" aria-hidden="true">#</a> </h2>
<p>This generic service provides the <code>retrieve</code>, <code>list</code>, <code>update</code> and <code>delete</code> actions.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Pionia\Generics\Base\RetrieveListUpdateDeleteService</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">StudentService</span> <span class="k">extends</span> <span class="nx">RetrieveListUpdateDeleteService</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="nx">string</span> <span class="nv">$table</span> <span class="o">=</span> <span class="s1">&#39;students&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="o">?</span><span class="k">array</span> <span class="nv">$updateColumns</span> <span class="o">=</span> <span class="k">null</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<h2 id="retrievelistupdateservice">RetrieveListUpdateService<a href="#retrievelistupdateservice" class="anchor" aria-hidden="true">#</a> </h2>
<p>This generic service provides the <code>retrieve</code>, <code>list</code> and <code>update</code> actions.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Pionia\Generics\Base\RetrieveListUpdateService</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">StudentService</span> <span class="k">extends</span> <span class="nx">RetrieveListUpdateService</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="nx">string</span> <span class="nv">$table</span> <span class="o">=</span> <span class="s1">&#39;students&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="o">?</span><span class="k">array</span> <span class="nv">$updateColumns</span> <span class="o">=</span> <span class="k">null</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<h2 id="universalgenericservice">UniversalGenericService<a href="#universalgenericservice" class="anchor" aria-hidden="true">#</a> </h2>
<p>This generic service provides all the actions. It is the most generic of all the generic services.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Pionia\Generics\Base\UniversalGenericService</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">StudentService</span> <span class="k">extends</span> <span class="nx">UniversalGenericService</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="nx">string</span> <span class="nv">$table</span> <span class="o">=</span> <span class="s1">&#39;students&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">array</span> <span class="nv">$createColumns</span> <span class="o">=</span> <span class="p">[];</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="o">?</span><span class="k">array</span> <span class="nv">$updateColumns</span> <span class="o">=</span> <span class="k">null</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="o">?</span><span class="k">array</span> <span class="nv">$listColumns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="nx">string</span> <span class="nv">$pk_field</span> <span class="o">=</span> <span class="s1">&#39;id&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<div class="callout callout-note d-flex flex-row mt-4 mb-4 pt-4 pe-4 pb-2 ps-3">
  
  <div class="callout-content">
    
    <div class="callout-body">
      <p>All cases of <code>retrieve</code> can be replaced with <code>details</code> thus setting <code>ACCTON</code> in
your request as <code>details</code> will still work the same as setting it to <code>retrieve</code>.</p>

    </div>
  </div>
</div>

<h2 id="customization">Customization<a href="#customization" class="anchor" aria-hidden="true">#</a> </h2>
<h3 id="table">$table<a href="#table" class="anchor" aria-hidden="true">#</a> </h3>
<p>This defines for us the table we are going to be interacting with. It is a required option.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">StudentService</span> <span class="k">extends</span> <span class="nx">RetrieveCreateUpdateService</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="nx">string</span> <span class="nv">$table</span> <span class="o">=</span> <span class="s1">&#39;students&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>All the other services will require you to define this. This is the table that the service will be interacting with.</p>
<h3 id="pk_field">$pk_field<a href="#pk_field" class="anchor" aria-hidden="true">#</a> </h3>
<p>This defines the primary key field of the table. By default it is <code>id</code>. But you can override it to be any other field.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">StudentService</span> <span class="k">extends</span> <span class="nx">RetrieveCreateUpdateService</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="nx">string</span> <span class="nv">$table</span> <span class="o">=</span> <span class="s1">&#39;students&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="nx">string</span> <span class="nv">$pk_field</span> <span class="o">=</span> <span class="s1">&#39;student_id&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="createcolumns">$createColumns<a href="#createcolumns" class="anchor" aria-hidden="true">#</a> </h3>
<p>This defines the columns that will be created when the <code>create</code> action is called. It is an array of strings.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">StudentService</span> <span class="k">extends</span> <span class="nx">RetrieveCreateUpdateService</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="nx">string</span> <span class="nv">$table</span> <span class="o">=</span> <span class="s1">&#39;students&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="o">?</span><span class="k">array</span> <span class="nv">$createColumns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;gender&#39;</span><span class="p">];</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>Any other columns that are not defined in this array shall be ignored. This is requred for all create services.</p>
<h3 id="updatecolumns">$updateColumns<a href="#updatecolumns" class="anchor" aria-hidden="true">#</a> </h3>
<p>This defines the columns that will be updated when the <code>update</code> action is called. It is an array of strings.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">StudentService</span> <span class="k">extends</span> <span class="nx">RetrieveCreateUpdateService</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="nx">string</span> <span class="nv">$table</span> <span class="o">=</span> <span class="s1">&#39;students&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="o">?</span><span class="k">array</span> <span class="nv">$updateColumns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;gender&#39;</span><span class="p">];</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>If this is not defined, then all the columns that are defined in the request will be updated. This param is optional.</p>
<h3 id="listcolumns">$listColumns<a href="#listcolumns" class="anchor" aria-hidden="true">#</a> </h3>
<p>This defines the columns that will be returned for all actions that return data back to the end user. It is an array of strings.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">StudentService</span> <span class="k">extends</span> <span class="nx">RetrieveCreateUpdateService</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="nx">string</span> <span class="nv">$table</span> <span class="o">=</span> <span class="s1">&#39;students&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="o">?</span><span class="k">array</span> <span class="nv">$listColumns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">];</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>The above implies that whether we are hitting <code>list</code>, <code>retrieve</code>, <code>random</code> or any other action that returns data,
only the <code>id</code> and <code>name</code> columns will be returned. This is optional and defaults to <code>*</code> if not defined.</p>
<h3 id="limit">$limit<a href="#limit" class="anchor" aria-hidden="true">#</a> </h3>
<p>This defines the size of records to return. It is an integer. It will henceforth be replaced
by the <code>LIMIT</code> or <code>limit</code> on the request if it is defined or in the <code>PAGINATION</code> or <code>pagination</code> key in the request.</p>
<p>By default, this is set to 10 records.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">StudentService</span> <span class="k">extends</span> <span class="nx">RetrieveCreateUpdateService</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="nx">string</span> <span class="nv">$table</span> <span class="o">=</span> <span class="s1">&#39;students&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="nx">int</span> <span class="nv">$limit</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="offset">$offset<a href="#offset" class="anchor" aria-hidden="true">#</a> </h3>
<p>This defines the offset where to start querying from. It is an integer. It will henceforth to be replaced
by the <code>OFFSET</code> or <code>offset</code> on the request if it is defined or in the <code>PAGINATION</code> or <code>pagination</code> key in the request.</p>
<p>By default, this is set to 0 records.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">StudentService</span> <span class="k">extends</span> <span class="nx">RetrieveCreateUpdateService</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="nx">string</span> <span class="nv">$table</span> <span class="o">=</span> <span class="s1">&#39;students&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="nx">int</span> <span class="nv">$offset</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<div class="callout callout-note d-flex flex-row mt-4 mb-4 pt-4 pe-4 pb-2 ps-3">
  
  <div class="callout-content">
    
    <div class="callout-body">
      <p><code>limit</code> or <code>LIMIT</code> and <code>offset</code> or <code>OFFSET</code> must both be defined on the request or in the <code>PAGINATION</code> or <code>pagination</code> or in the <code>SEARCH</code> or <code>search</code> key in the request
for pagination to kick in, otherwise, each will perform its respective duty without pagination.</p>

    </div>
  </div>
</div>

<h2 id="overriding-actions">Overriding Actions<a href="#overriding-actions" class="anchor" aria-hidden="true">#</a> </h2>
<p>You can override any of the actions provided by the generic services. This is done by defining the action in the service.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">StudentService</span> <span class="k">extends</span> <span class="nx">RetrieveCreateUpdateService</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="nx">string</span> <span class="nv">$table</span> <span class="o">=</span> <span class="s1">&#39;students&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">function</span> <span class="nf">create</span><span class="p">()</span><span class="o">:</span> <span class="nx">BaseResponse</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Your custom logic here
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nv">$data</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">getData</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// perform your own way of creating the record
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nx">BaseResponse</span><span class="o">::</span><span class="na">JsonResponse</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&#34;your message&#34;</span><span class="p">,</span> <span class="nv">$data</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>The fact that Pionia is structured in an OOP way, you can override any of the actions provided by the generic services.
This is just normal PHP OOP inheritance.</p>
<h2 id="adding-custom-actions">Adding Custom Actions<a href="#adding-custom-actions" class="anchor" aria-hidden="true">#</a> </h2>
<p>You can add your own custom actions to the generic services. This is done by defining the action in the service.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">StudentService</span> <span class="k">extends</span> <span class="nx">RetrieveCreateUpdateService</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="nx">string</span> <span class="nv">$table</span> <span class="o">=</span> <span class="s1">&#39;students&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">function</span> <span class="nf">customAction</span><span class="p">()</span><span class="o">:</span> <span class="nx">BaseResponse</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// Your custom logic here
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nv">$data</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">request</span><span class="o">-&gt;</span><span class="na">getData</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1">// perform your own custom action
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nx">BaseResponse</span><span class="o">::</span><span class="na">JsonResponse</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&#34;your message&#34;</span><span class="p">,</span> <span class="nv">$data</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>You can now call this action in your request by setting the <code>ACTION</code> key to <code>custom_action</code>.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;SERVICE&#34;</span><span class="p">:</span> <span class="s2">&#34;student&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;ACTION&#34;</span><span class="p">:</span> <span class="s2">&#34;custom_action&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<div class="callout callout-note d-flex flex-row mt-4 mb-4 pt-4 pe-4 pb-2 ps-3">
  
  <div class="callout-content">
    
    <div class="callout-body">
      <p>The name of your custom action must not conflict with any of the actions provided by the generic services.
Otherwise you stand a chance of overriding the generic action.</p>

    </div>
  </div>
</div>

<h2 id="overriding-getters">Overriding getters<a href="#overriding-getters" class="anchor" aria-hidden="true">#</a> </h2>
<p>You can also tell the service <code>how to query one</code> item and <code>how to list multiple</code> items. This is can be handy where
for example you want to add complex where clauses to your queries.</p>
<p>For this cause, you can override the <code>getItem</code> and <code>getItems</code> methods in service.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">StudentService</span> <span class="k">extends</span> <span class="nx">RetrieveCreateUpdateService</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="nx">string</span> <span class="nv">$table</span> <span class="o">=</span> <span class="s1">&#39;students&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd">     * Override this in your service to define the basis to return single item details
</span></span></span><span class="line"><span class="cl"><span class="sd">     * @return null|object
</span></span></span><span class="line"><span class="cl"><span class="sd">     */</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">function</span> <span class="nf">getItem</span><span class="p">()</span><span class="o">:</span> <span class="o">?</span><span class="nx">object</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="k">null</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="sd">/**
</span></span></span><span class="line"><span class="cl"><span class="sd">     * Override this in your service to define the basis to return multiple items from the database
</span></span></span><span class="line"><span class="cl"><span class="sd">     * @return null|object
</span></span></span><span class="line"><span class="cl"><span class="sd">     */</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">function</span> <span class="nf">getItems</span><span class="p">()</span><span class="o">:</span> <span class="o">?</span><span class="k">array</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="k">null</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<h2 id="generic-services-signalshooks">Generic Services Signals(Hooks)<a href="#generic-services-signalshooks" class="anchor" aria-hidden="true">#</a> </h2>
<p>Generic Services come baked with hooks that enable you to run custom code before or after the CRUD operations.
The following are some of these hooks:</p>
<h3 id="precreate">preCreate<a href="#precreate" class="anchor" aria-hidden="true">#</a> </h3>
<p>This hook is called before the <code>create</code> action is executed.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">function</span> <span class="nf">preCreate</span><span class="p">(</span><span class="o">?</span><span class="k">array</span> <span class="nv">$createItem</span> <span class="o">=</span> <span class="k">null</span><span class="p">)</span><span class="o">:</span> <span class="k">array</span><span class="o">|</span><span class="nx">bool</span><span class="o">|</span><span class="k">null</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="nv">$createItem</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nv">$createItem</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$createItem</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">.</span> <span class="s2">&#34; - &#34;</span> <span class="o">.</span> <span class="nx">date</span><span class="p">(</span><span class="s1">&#39;Y-m-d H:i:s&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nv">$createItem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>If this hook returns <code>null</code> or a false value, the <code>create</code> action will abort.</p>
<p>Also, this hook has access to the <code>createItem</code> that is about to be created. You can mutate data as you see fit at this point or add extra data.</p>
<p>On success, hooks must return the <code>createItem</code> that will be used to create the record.</p>
<h3 id="postcreate">postCreate<a href="#postcreate" class="anchor" aria-hidden="true">#</a> </h3>
<p>This hook is called after the <code>create</code> action is executed.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">function</span> <span class="nf">postCreate</span><span class="p">(</span><span class="nx">object</span><span class="o">|</span><span class="k">array</span><span class="o">|</span><span class="k">null</span> <span class="nv">$createdItem</span> <span class="o">=</span> <span class="k">null</span><span class="p">)</span><span class="o">:</span> <span class="nx">object</span><span class="o">|</span><span class="k">array</span><span class="o">|</span><span class="k">null</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$createdItem</span><span class="o">-&gt;</span><span class="na">created</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nv">$createdItem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>It gives you access to the currently create record. You can mutate the return data as you see fit, but this won&rsquo;t affect
the object that has already been saved. This is just for the response.</p>
<p>Whatever object or array you return from here is what shall be sent back to the user.</p>
<h3 id="preupdate">preUpdate<a href="#preupdate" class="anchor" aria-hidden="true">#</a> </h3>
<p>This hook is called before the <code>update</code> action is executed.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">function</span> <span class="nf">preUpdate</span><span class="p">(</span><span class="o">?</span><span class="k">array</span> <span class="nv">$updateItem</span> <span class="o">=</span> <span class="k">null</span><span class="p">)</span><span class="o">:</span> <span class="k">array</span><span class="o">|</span><span class="nx">bool</span><span class="o">|</span><span class="k">null</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="nv">$updateItem</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nv">$updateItem</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$updateItem</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">.</span> <span class="s2">&#34; - &#34;</span> <span class="o">.</span> <span class="nx">date</span><span class="p">(</span><span class="s1">&#39;Y-m-d H:i:s&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nv">$updateItem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>If this hook returns <code>null</code> or a false value, the <code>update</code> action will abort.</p>
<p>Also, this hook has access to the <code>updateItem</code> that is about to be updated. You can mutate data as you see fit at this point or add extra data.</p>
<p>The object that is returned from this hook is what shall be used to update the record.</p>
<h3 id="postupdate">postUpdate<a href="#postupdate" class="anchor" aria-hidden="true">#</a> </h3>
<p>This hook is called after the <code>update</code> action is executed.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">function</span> <span class="nf">postUpdate</span><span class="p">(</span><span class="nx">object</span><span class="o">|</span><span class="k">array</span><span class="o">|</span><span class="k">null</span> <span class="nv">$updatedItem</span> <span class="o">=</span> <span class="k">null</span><span class="p">)</span><span class="o">:</span> <span class="nx">object</span><span class="o">|</span><span class="k">array</span><span class="o">|</span><span class="k">null</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nv">$updatedItem</span><span class="o">-&gt;</span><span class="na">updated</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nv">$updatedItem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>It gives you access to the currently updated record. You can mutate the return data as you see fit, but this won&rsquo;t affect
the object that has already been saved. This is just for the response.</p>
<p>Whatever object or array you return from here is what shall be sent back to the user.</p>
<h3 id="predelete">preDelete<a href="#predelete" class="anchor" aria-hidden="true">#</a> </h3>
<p>This hook is called before the <code>delete</code> action is executed.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">function</span> <span class="nf">preDelete</span><span class="p">(</span><span class="nx">object</span><span class="o">|</span><span class="k">array</span><span class="o">|</span><span class="k">null</span> <span class="nv">$itemToDelete</span> <span class="o">=</span> <span class="k">null</span><span class="p">)</span><span class="o">:</span> <span class="k">array</span><span class="o">|</span><span class="k">null</span><span class="o">|</span><span class="nx">object</span><span class="o">|</span><span class="nx">bool</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="p">(</span><span class="nv">$itemToDelete</span><span class="o">-&gt;</span><span class="na">id</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nv">$itemToDelete</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>If this hook returns <code>null</code> or a false value, the <code>delete</code> action will abort. Otherwise, the <code>$itemToDelete</code> will be deleted.</p>
<p>The hook also gives you access to the item to be deleted. You can perform any conditions or any other logic you see fit.</p>
<h3 id="postdelete">postDelete<a href="#postdelete" class="anchor" aria-hidden="true">#</a> </h3>
<p>This hook is called after the <code>delete</code> action is executed.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">    <span class="k">public</span> <span class="k">function</span> <span class="nf">postDelete</span><span class="p">(</span><span class="nx">PDOStatement</span> <span class="nv">$deleteInstance</span><span class="p">,</span> <span class="nx">object</span><span class="o">|</span><span class="k">array</span><span class="o">|</span><span class="k">null</span> <span class="nv">$deletedItem</span> <span class="o">=</span> <span class="k">null</span><span class="p">)</span><span class="o">:</span> <span class="nx">mixed</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nv">$deletedItem</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span></span></span></code></pre></div>
  </figure>
</div>
<p>However much the record is nolonger in the db, this hook gives you access to the record that was deleted.
You can use it as you see fit. The object that is returned from this hook is what shall be sent back to the user.</p>
<h3 id="why-would-you-need-these-hooks">Why would you need these hooks?<a href="#why-would-you-need-these-hooks" class="anchor" aria-hidden="true">#</a> </h3>
<ol>
<li>Hooks can be used to mutate data before it is saved to the database.</li>
<li>Hooks can be used to transform the response back to the user to meet your needs.</li>
<li>It is in these hooks where you have a chance to log, send emails or do any other action that is not directly related to the CRUD operation.</li>
</ol>
<div class="callout callout-note d-flex flex-row mt-4 mb-4 pt-4 pe-4 pb-2 ps-3">
  
  <div class="callout-content">
    
    <div class="callout-body">
      <p>The hooks are not to be used outside services that extend the <code>GenericService</code> class. They are already included in the generic services.</p>

    </div>
  </div>
</div>

<h2 id="securing-generic-services">Securing Generic Services.<a href="#securing-generic-services" class="anchor" aria-hidden="true">#</a> </h2>
<p>The fact that Generic Services extend <code>BaseRestService</code> means that all authentication and authorization checks are still in place.</p>
<p>You can still use <code>$serviceRequiresAuth</code> to protect the entire service from unauthenticated access.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="k">public</span> <span class="nx">bool</span> <span class="nv">$serviceRequiresAuth</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span></span></span></code></pre></div>
  </figure>
</div>
<p>You can also define a few actions that will require authentication like below.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="k">public</span> <span class="o">?</span><span class="k">array</span> <span class="nv">$actionsRequiringAuth</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;create&#39;</span><span class="p">,</span> <span class="s1">&#39;update&#39;</span><span class="p">,</span> <span class="s1">&#39;delete&#39;</span><span class="p">];</span></span></span></code></pre></div>
  </figure>
</div>
<p>You can also protect actions by permissions using the <code>$actionPermissions</code> property.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="k">public</span> <span class="o">?</span><span class="k">array</span> <span class="nv">$actionPermissions</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;create&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;create_student&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;update&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span><span class="s1">&#39;update_student&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl"><span class="p">];</span></span></span></code></pre></div>
  </figure>
</div>
<p>This will ensure that only users with the listed permissions can access the action.</p>
<div class="callout callout-note d-flex flex-row mt-4 mb-4 pt-4 pe-4 pb-2 ps-3">
  
  <div class="callout-content">
    
    <div class="callout-body">
      <p>Please note that the permissions are represented as an <code>array</code> not a <code>string</code>.</p>

    </div>
  </div>
</div>

<h2 id="conclusion">Conclusion<a href="#conclusion" class="anchor" aria-hidden="true">#</a> </h2>
<p>The generic services are there to help you with the CRUD operations. They are there to help you focus on the complex business logic.</p>
<p>You can use the mixin to come up with your own custom generic services. You can also override the actions provided by the generic services.</p>
<p>This is all to turbo charge your development process which is the main goal of Pionia.</p>

			<div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between">
				<div class="last-modified">
    <a href="https://github.com/PioniaPHP-project/pionia-docs/commit/686d7a85ea33659b0cc54a83900bfff6afaba249">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
      Last updated on July 31, 2024
    </a>
  </div>

				


  













<div class="edit-page">
  <a href="https://github.com/PioniaPHP-project/pionia-docs/blob/main/content//docs/documentation/services/generic_services.md">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2">
      <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>
    </svg>
    Edit this page on GitHub
  </a>
</div>

				</div>
			<div class="page-nav d-flex flex-column flex-sm-row">
	
	<div class="card w-100">
			<div class="card-body d-flex">
				<div class="d-flex flex-column justify-content-center">
					<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-left" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
						<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
						<path d="M5 12l14 0"></path>
						<path d="M5 12l6 6"></path>
						<path d="M5 12l6 -6"></path>
				 	</svg>
				</div>
				<div class="d-flex flex-column">
					<div class="text-body-secondary">Prev</div>
					<a href="/documentation/services/services/" class="stretched-link text-reset text-decoration-none">Services</a>
				</div>
			</div>
		</div>
	<div class="m-2"></div>
	<div class="card text-end w-100">
			<div class="card-body d-flex justify-content-end">
				<div class="d-flex flex-column">
					<div class="text-body-secondary">Next</div>
					<a href="/documentation/services/advanced-generic-services/" class="stretched-link text-reset text-decoration-none">Advanced Generic Services</a>
				</div>
				<div class="d-flex flex-column justify-content-center">
					<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-right" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
						<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
						<path d="M5 12l14 0"></path>
						<path d="M13 18l6 -6"></path>
						<path d="M13 6l6 6"></path>
					</svg>
				</div>
			</div>
		</div>
	</div>

			
		</main>
		
	</div>

      
      </div>
    </div>
    
    
    <footer class="footer text-muted">
  <div class="container-sm">
    <div class="row">
      <div class="col-lg-8 text-center text-lg-start">
        <ul class="list-inline">
          <li class="list-inline-item"><a class="text-muted" href="/privacy/">Privacy Policy</a></li>
        </ul>
      </div>
      <div class="col-lg-8 text-center text-lg-end">
        <ul class="list-inline">
          <li class="list-inline-item">Brought to you by <a class="text-muted" href="https://servicecops.com/">Service Cops</a></li>
        </ul>
      </div>
    </div>
  </div>
</footer>

    

<script async
  src="/js/app.fee9f8ec7475f74b15d2b2c76604e00670c577ef11ab1b2c92344ab979b9ace4.js"
  integrity="sha256-/un47HR190sV0rLHZgTgBnDFd&#43;8RqxsskjRKuXm5rOQ=">
</script>





<script async
  src="/js/flexsearch.f41f5ca0007df2c47e9e7872158f93feda934e4cc9dbcbc02e471503b49d8087.js"
  integrity="sha256-9B9coAB98sR&#43;nnhyFY&#43;T/tqTTkzJ28vALkcVA7SdgIc=">
</script>
<script async
  src="/js/search-modal.bbdea845b287fc7f22a081c11a25b5bbfa96e74e43b36be5733f16439caf46be.js"
  integrity="sha256-u96oRbKH/H8ioIHBGiW1u/qW505Ds2vlcz8WQ5yvRr4=">
</script>

    <div class="d-inline-flex fixed-bottom-right pb-4 pe-4">
  <button id="toTop" type="button" class="btn btn-primary rounded-circle ms-auto p-2"><span class="visually-hidden">Top</span><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-up" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M6 15l6 -6l6 6"></path></svg></button>
</div>

    
  </body>
</html>
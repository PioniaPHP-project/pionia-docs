<!doctype html>
<html lang="en" data-bs-theme="auto">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><link rel="preload" href="http://localhost:1313/fonts/vendor/jost/jost-v4-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="http://localhost:1313/fonts/vendor/jost/jost-v4-latin-500.woff2" as="font" type="font/woff2" crossorigin>
<link rel="preload" href="http://localhost:1313/fonts/vendor/jost/jost-v4-latin-700.woff2" as="font" type="font/woff2" crossorigin>
<script 
  src="/js/color-mode.f14b3e296de1d0b69e75af684b62a4a912a2cadab04e36123407cd8388204f1d.js"
  integrity="sha256-8Us&#43;KW3h0Laeda9oS2KkqRKiytqwTjYSNAfNg4ggTx0=">
</script>


<link rel="stylesheet" href="/main.01b0834d5af51b24812d02878d09c8d7677d6b8af13164fb50215889dc19aaefd0e9366c13b45a9a57ae481dfd1836bce46b5ebfe461d56e3498b9443d8c5e27.css" integrity="sha512-AbCDTVr1GySBLQKHjQnI12d9a4rxMWT7UCFYidwZqu/Q6TZsE7RamleuSB39GDa85Gtev&#43;Rh1W40mLlEPYxeJw==" crossorigin="anonymous">

<noscript><style>img.lazyload { display: none; }</style></noscript><base href="http://localhost:1313/documentation/database/using-functions-aggregation/">
  <link rel="canonical" href="http://localhost:1313/documentation/database/using-functions-aggregation/">
<title>Ponia Porm Database</title>
<meta name="description" content="Querying the database using the PORM - Pionia ORM.">

    
    <link rel="icon" href="/favicon.ico" sizes="32x32">
    
      <link rel="icon" href="/favicon.svg" type="image/png">
    
      <link
        rel="apple-touch-icon"
        href="/apple-touch-icon.png"
        sizes="180x180"
        type="image/png"
      >
      <link
        rel="icon"
        href="/favicon-192x192.png"
        sizes="192x192"
        type="image/png"
      >
      <link
        rel="icon"
        href="/favicon-512x512.png"
        sizes="512x512"
        type="image/png"
      >
<link rel="manifest" href="/manifest.webmanifest">
<meta property="og:title" content="Using Functions - Aggregation">
<meta property="og:description" content="Database querying using PORM - Pionia ORM">
<meta property="og:type" content="article">
<meta property="og:url" content="http://localhost:1313/documentation/database/using-functions-aggregation/"><meta property="og:image" content="http://localhost:1313/favicon.ico"><meta property="article:section" content="docs">

<meta property="article:modified_time" content="2024-10-07T22:51:58+03:00"><meta property="og:site_name" content="Pionia Framework">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://localhost:1313/favicon.ico"><meta name="twitter:title" content="Using Functions - Aggregation">
<meta name="twitter:description" content="Database querying using PORM - Pionia ORM">
<meta name="twitter:site" content="@pionia">

    
    
    
    <script type="application/ld+json">
  {
   "@context": "https://schema.org",
   "@type": "BreadcrumbList",
   "itemListElement": [
     {
       "@type": "ListItem",
       "item": "http://localhost:1313/",
       "name": "Pionia Framework",
       "position": 1
     },
     {
       "@type": "ListItem",
       "item": "http://localhost:1313/docs/",
       "name": "Docs",
       "position": 2
     },
     {
       "@type": "ListItem",
       "item": "http://localhost:1313/docs/documentation/",
       "name": "Documentation",
       "position": 3
     },
     {
       "@type": "ListItem",
       "item": "http://localhost:1313/docs/documentation/database/",
       "name": "Database",
       "position": 4
     },
     {
       "@type": "ListItem",
       "name": "Using Functions Aggregation",
       "position": 5
     }
   ]
 }
</script>





</head>

  
  <body class="single section docs" data-bs-spy="scroll" data-bs-target="#toc" data-bs-root-margin="0px 0px -60%" data-bs-smooth-scroll="true" tabindex="0">
    <div class="sticky-top">
<div class="header-bar"></div>
<header class="navbar navbar-expand-lg">
  <div class="container-sm">
  
    <a class="navbar-brand me-auto me-lg-3" href="/">Pionia</a>

    
    
    <button type="button" id="searchToggleMobile" class="btn btn-link nav-link mx-2 d-lg-none" aria-label="Search website">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <circle cx="10" cy="10" r="7"></circle>
        <line x1="21" y1="21" x2="15" y2="15"></line>
      </svg>
    </button>
    
    <button class="btn btn-link d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavSection" aria-controls="offcanvasNavSection" aria-label="Open section navigation menu">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-dots-vertical" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path>
        <path d="M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path>
        <path d="M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"></path>
      </svg>
    </button>
    <div class="offcanvas offcanvas-start d-lg-none" tabindex="-1" id="offcanvasNavSection" aria-labelledby="offcanvasNavSectionLabel">
      <div class="header-bar"></div>
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasNavSectionLabel">Docs</h5>
        <button type="button" class="btn btn-link nav-link p-0 ms-auto" data-bs-dismiss="offcanvas" aria-label="Close">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path d="M18 6l-12 12"></path>
            <path d="M6 6l12 12"></path>
          </svg>
        </button>
      </div>
      <div class="offcanvas-body">
        <aside class="doks-sidebar mt-n3">
          <nav id="doks-docs-nav" aria-label="Tertiary navigation">
            
  
    
<nav class="section-nav docs-links">
  <ul class="list-unstyled">

  <li>
    <details open open>
      <summary>Documentation</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/documentation/introduction/">Introduction</a>
  </li>

  <li>
      <a href="/documentation/why-pionia/">Why Pionia?</a>
  </li>

  <li>
      <a href="/documentation/application-structure/">Application Structure</a>
  </li>

  <li>
      <a href="/documentation/api-tutorial/">API Tutorial</a>
  </li>

  <li>
    <details open>
      <summary>Services</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/documentation/services/services/">Services</a>
  </li>

  <li>
      <a href="/documentation/services/actions/">Actions</a>
  </li>

  <li>
      <a href="/documentation/services/generic-services/">Generic Services</a>
  </li>

  <li>
      <a href="/documentation/services/advanced-generic-services/">Advanced Generic Services</a>
  </li>
      </ul>
    </details>
  </li>

  <li>
      <a href="/documentation/requests-and-responses/">Requests and Responses</a>
  </li>

  <li>
    <details open>
      <summary>Security</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/documentation/security/security-authentication-and-authorization/">Security - Authentication and Authorization</a>
  </li>

  <li>
      <a href="/documentation/security/example-jwt-authentication/">Example - JWT Authentication</a>
  </li>
      </ul>
    </details>
  </li>

  <li>
      <a href="/documentation/logging-in-pionia/">Logging in Pionia</a>
  </li>

  <li>
    <details open open>
      <summary>Database</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/documentation/database/configuration-getting-started/">Configuration - Getting Started</a>
  </li>

  <li>
      <a href="/documentation/database/making-queries/">Making Queries</a>
  </li>

  <li>
      <a href="/documentation/database/queries-with-filtering/">Queries with Filtering</a>
  </li>

  <li>
      <a href="/documentation/database/relationships/">Relationships</a>
  </li>

  <li class="active" >
      <a aria-current="page" href="/documentation/database/using-functions-aggregation/">Using Functions - Aggregation</a>
  </li>
      </ul>
    </details>
  </li>

  <li>
      <a href="/documentation/commands-pionia-cli/">Commands( Pionia CLI)</a>
  </li>

  <li>
      <a href="/documentation/caching-in-pionia/">Caching in Pionia</a>
  </li>

  <li>
      <a href="/documentation/pionia-helpers/">Pionia Helpers</a>
  </li>
      </ul>
    </details>
  </li>

  <li>
    <details open>
      <summary>Moonlight Architecture</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/moonlight/introduction-to-moonlight-architecture/">Introduction to MoonLight Architecture</a>
  </li>

  <li>
      <a href="/moonlight/security-in-moonlight/">Security in moonlight</a>
  </li>

  <li>
      <a href="/moonlight/api-versioning-in-moonlight/">API Versioning in Moonlight</a>
  </li>
      </ul>
    </details>
  </li>
  </ul>
</nav>

  

          </nav>
        </aside>
      </div>
    </div>
    
    <button class="btn btn-link nav-link mx-2 order-3 d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavMain" aria-controls="offcanvasNavMain" aria-label="Open main navigation menu">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <line x1="4" y1="8" x2="20" y2="8"></line>
        <line x1="4" y1="16" x2="20" y2="16"></line>
      </svg>
    </button>

    
    <div class="offcanvas offcanvas-end h-auto" tabindex="-1" id="offcanvasNavMain" aria-labelledby="offcanvasNavMainLabel">
      <div class="header-bar d-lg-none"></div>
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="offcanvasNavMainLabel">Pionia</h5>
        <button type="button" class="btn btn-link nav-link p-0 ms-auto" data-bs-dismiss="offcanvas" aria-label="Close">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path d="M18 6l-12 12"></path>
            <path d="M6 6l12 12"></path>
         </svg>
        </button>
      </div>
      
      <div class="offcanvas-body d-flex flex-column flex-lg-row justify-content-between">
        <ul class="navbar-nav flex-grow-1"><li class="nav-item">
                <a class="nav-link" href="http://localhost:1313/documentation/introduction/">Documentation</a>
              </li>
            <li class="nav-item">
                <a class="nav-link" href="http://localhost:1313/moonlight/introduction-to-moonlight-architecture/">Moonlight</a>
              </li>
            <li class="nav-item">
                <a class="nav-link" href="http://localhost:1313/documentation/api-tutorial/">Tutorial</a>
              </li>
            </ul>

        
        
        <button type="button" id="searchToggleDesktop" class="btn btn-link nav-link p-2 d-none d-lg-block" aria-label="Search website">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <circle cx="10" cy="10" r="7"></circle>
            <line x1="21" y1="21" x2="15" y2="15"></line>
          </svg>
        </button>
        
        
        
        <button id="buttonColorMode" class="btn btn-link mx-auto nav-link p-0 ms-lg-2 me-lg-1" type="button" aria-label="Toggle theme">
          <svg data-bs-theme-value="dark" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-moon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
          </svg>
          <svg data-bs-theme-value="light" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sun" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path d="M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0m-5 0h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7"></path>
          </svg>
        </button>
        
        <ul id="socialMenu" class="nav mx-auto flex-row order-lg-4">
          <li class="nav-item">
              <a class="nav-link social-link" href="https://github.com/PioniaPHP-project/pionia-docs"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"></path></svg><small class="ms-2 visually-hidden">GitHub</small></a>
            </li>
          </ul>
        
        <a class="btn btn-primary rounded-pill mt-2 btn-block d-lg-none" href="http://localhost:1313/documentation/introduction/#get-started" role="button">Get started</a>
        </div>
    </div>

    
    <a class="btn btn-primary rounded-pill ms-3 me-2 px-4 order-lg-3 d-none d-lg-block" href="http://localhost:1313/documentation/introduction/#get-started" role="button">Get started</a>
    </div>
</header>
</div>

<div class="modal" id="searchModal" tabindex="-1" aria-labelledby="searchModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-fullscreen-md-down">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5 visually-hidden" id="searchModalLabel">Search</h1>
        <button type="button" class="btn-close visually-hidden" data-bs-dismiss="modal" aria-label="Close"></button>
        <div class="search-input flex-grow-1 d-none">
          <form id="search-form" class="search-form" action="#" method="post" accept-charset="UTF-8" role="search">
            <label for="query" class="visually-hidden">Search</label>
            <div class="d-flex">
              <input type="search" id="query" name="query" class="search-text form-control form-control-lg" placeholder="Search" aria-label="Search" maxlength="128" autocomplete="off">
              <button type="button" class="btn btn-link text-decoration-none px-0 ms-3 d-md-none" data-bs-dismiss="modal" aria-label="Close">Cancel</button>
            </div>
          </form>
        </div>
      </div>
      <div class="modal-body">
        <p class="search-loading status message d-none mt-3 text-center">Loading search index…</p>
        <p class="search-no-recent message d-none mt-3 text-center">No recent searches</p>
        <p class="search-no-results message d-none mt-3 text-center">No results for "<strong><span class="query-no-results">Query here</span></strong>"</p>
        <div id="searchResults" class="search-results"></div>
        <template>
          <article class="search-result list-view">
            <div class="card my-3">
              <div class="card-body">
                <header>
                  <h2 class="h5 title title-submitted mb-0"><a class="stretched-link text-decoration-none text-reset" href="#">Title here</a></h2>
                  <div class="submitted"><time class="created-date">Date here</time></div>
                </header>
                <div class="content">Summary here</div>
              </div>
            </div>
          </article>
        </template>
      </div>
      <div class="modal-footer">
        <ul class="list-inline me-auto d-none d-md-block">
          <li class="list-inline-item"><kbd class="me-2"><svg width="15" height="15" aria-label="Enter key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3"></path></g></svg></kbd><span class="DocSearch-Label">to select</span></li>
          <li class="list-inline-item"><kbd class="me-2"><svg width="15" height="15" aria-label="Arrow down" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 3.5v8M10.5 8.5l-3 3-3-3"></path></g></svg></kbd><kbd class="me-2"><svg width="15" height="15" aria-label="Arrow up" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 11.5v-8M10.5 6.5l-3-3-3 3"></path></g></svg></kbd><span class="DocSearch-Label">to navigate</span></li>
          <li class="list-inline-item"><kbd class="me-2"><svg width="15" height="15" aria-label="Escape key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956"></path></g></svg></kbd><span class="DocSearch-Label">to close</span></li>
        </ul>
        <p class="d-md-none">Search by <a class="text-decoration-none" href="https://github.com/nextapps-de/flexsearch">FlexSearch</a></p>
      </div>
    </div>
  </div>
</div>


    <div class="wrap container-sm" role="document">
      <div class="content">
      
        
	<div class="row flex-xl-nowrap">
		<div class="col-lg-5 col-xl-4 docs-sidebar docs-sidebar-offset d-none d-lg-block">
			
  
    
<nav class="section-nav docs-links">
  <ul class="list-unstyled">

  <li>
    <details open open>
      <summary>Documentation</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/documentation/introduction/">Introduction</a>
  </li>

  <li>
      <a href="/documentation/why-pionia/">Why Pionia?</a>
  </li>

  <li>
      <a href="/documentation/application-structure/">Application Structure</a>
  </li>

  <li>
      <a href="/documentation/api-tutorial/">API Tutorial</a>
  </li>

  <li>
    <details open>
      <summary>Services</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/documentation/services/services/">Services</a>
  </li>

  <li>
      <a href="/documentation/services/actions/">Actions</a>
  </li>

  <li>
      <a href="/documentation/services/generic-services/">Generic Services</a>
  </li>

  <li>
      <a href="/documentation/services/advanced-generic-services/">Advanced Generic Services</a>
  </li>
      </ul>
    </details>
  </li>

  <li>
      <a href="/documentation/requests-and-responses/">Requests and Responses</a>
  </li>

  <li>
    <details open>
      <summary>Security</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/documentation/security/security-authentication-and-authorization/">Security - Authentication and Authorization</a>
  </li>

  <li>
      <a href="/documentation/security/example-jwt-authentication/">Example - JWT Authentication</a>
  </li>
      </ul>
    </details>
  </li>

  <li>
      <a href="/documentation/logging-in-pionia/">Logging in Pionia</a>
  </li>

  <li>
    <details open open>
      <summary>Database</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/documentation/database/configuration-getting-started/">Configuration - Getting Started</a>
  </li>

  <li>
      <a href="/documentation/database/making-queries/">Making Queries</a>
  </li>

  <li>
      <a href="/documentation/database/queries-with-filtering/">Queries with Filtering</a>
  </li>

  <li>
      <a href="/documentation/database/relationships/">Relationships</a>
  </li>

  <li class="active" >
      <a aria-current="page" href="/documentation/database/using-functions-aggregation/">Using Functions - Aggregation</a>
  </li>
      </ul>
    </details>
  </li>

  <li>
      <a href="/documentation/commands-pionia-cli/">Commands( Pionia CLI)</a>
  </li>

  <li>
      <a href="/documentation/caching-in-pionia/">Caching in Pionia</a>
  </li>

  <li>
      <a href="/documentation/pionia-helpers/">Pionia Helpers</a>
  </li>
      </ul>
    </details>
  </li>

  <li>
    <details open>
      <summary>Moonlight Architecture</summary>
      <ul class="list-unstyled list-nested">

  <li>
      <a href="/moonlight/introduction-to-moonlight-architecture/">Introduction to MoonLight Architecture</a>
  </li>

  <li>
      <a href="/moonlight/security-in-moonlight/">Security in moonlight</a>
  </li>

  <li>
      <a href="/moonlight/api-versioning-in-moonlight/">API Versioning in Moonlight</a>
  </li>
      </ul>
    </details>
  </li>
  </ul>
</nav>

  

		</div>
		
		<nav class="docs-toc docs-toc-offset d-none d-xl-block col-xl-3" aria-label="Secondary navigation">
			<div class="page-links">
  <h3>On this page</h3>
    <nav id="toc">
  <ul>
    <li><a href="#inbuilt-aggregation-functions">Inbuilt Aggregation Functions</a>
      <ul>
        <li><a href="#count">count</a></li>
        <li><a href="#sum">sum</a></li>
        <li><a href="#avg">avg</a></li>
        <li><a href="#max">max</a></li>
        <li><a href="#min">min</a></li>
      </ul>
    </li>
    <li><a href="#using-the-agg-builder">Using the Agg Builder</a>
      <ul>
        <li><a href="#initializing-the-agg-builder">Initializing the Agg Builder</a></li>
        <li><a href="#random">random</a></li>
        <li><a href="#avg-1">avg</a></li>
        <li><a href="#compare">compare</a></li>
        <li><a href="#like">like</a></li>
        <li><a href="#notlike">notLike</a></li>
        <li><a href="#div">div</a></li>
        <li><a href="#between">between</a></li>
        <li><a href="#notbetween">notBetween</a></li>
        <li><a href="#jsonified">jsonified</a></li>
        <li><a href="#of">of</a></li>
        <li><a href="#minus">minus</a></li>
        <li><a href="#plus">plus</a></li>
        <li><a href="#eq">eq</a></li>
        <li><a href="#neq">neq</a></li>
        <li><a href="#now">now</a></li>
        <li><a href="#lt">lt</a></li>
        <li><a href="#lte">lte</a></li>
        <li><a href="#gt">gt</a></li>
        <li><a href="#gte">gte</a></li>
        <li><a href="#uuid">uuid</a></li>
        <li><a href="#max-1">max()</a></li>
        <li><a href="#min-1">min()</a></li>
        <li><a href="#sum-1">sum()</a></li>
        <li><a href="#regex">regex</a></li>
      </ul>
    </li>
    <li><a href="#chaining-multiple">Chaining multiple</a></li>
  </ul>
</nav>
</div>

		</nav>
		<main class="docs-content col-lg-11 col-xl-9">
		
			<h1>Using Functions - Aggregation</h1>
			
			<nav class="toc-mobile d-xl-none" aria-label="Quaternary navigation">
				<details>
    <summary>On this page</summary>
    <div class="page-links">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#inbuilt-aggregation-functions">Inbuilt Aggregation Functions</a>
      <ul>
        <li><a href="#count">count</a></li>
        <li><a href="#sum">sum</a></li>
        <li><a href="#avg">avg</a></li>
        <li><a href="#max">max</a></li>
        <li><a href="#min">min</a></li>
      </ul>
    </li>
    <li><a href="#using-the-agg-builder">Using the Agg Builder</a>
      <ul>
        <li><a href="#initializing-the-agg-builder">Initializing the Agg Builder</a></li>
        <li><a href="#random">random</a></li>
        <li><a href="#avg-1">avg</a></li>
        <li><a href="#compare">compare</a></li>
        <li><a href="#like">like</a></li>
        <li><a href="#notlike">notLike</a></li>
        <li><a href="#div">div</a></li>
        <li><a href="#between">between</a></li>
        <li><a href="#notbetween">notBetween</a></li>
        <li><a href="#jsonified">jsonified</a></li>
        <li><a href="#of">of</a></li>
        <li><a href="#minus">minus</a></li>
        <li><a href="#plus">plus</a></li>
        <li><a href="#eq">eq</a></li>
        <li><a href="#neq">neq</a></li>
        <li><a href="#now">now</a></li>
        <li><a href="#lt">lt</a></li>
        <li><a href="#lte">lte</a></li>
        <li><a href="#gt">gt</a></li>
        <li><a href="#gte">gte</a></li>
        <li><a href="#uuid">uuid</a></li>
        <li><a href="#max-1">max()</a></li>
        <li><a href="#min-1">min()</a></li>
        <li><a href="#sum-1">sum()</a></li>
        <li><a href="#regex">regex</a></li>
      </ul>
    </li>
    <li><a href="#chaining-multiple">Chaining multiple</a></li>
  </ul>
</nav>
    </div>
  </details>

			</nav>
			<div class="callout callout-tip d-flex flex-row mt-4 mb-4 pt-4 pe-4 pb-2 ps-3">
  <svg class="outline/pencil svg-inline callout-icon me-2 mb-3"  xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" ><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 20h4L18.5 9.5a2.828 2.828.0 10-4-4L4 16v4"/><path d="M13.5 6.5l4 4"/></svg>
  <div class="callout-content">
    
    <div class="callout-body">
      <p>This section assumes you have alredy completed configuring the database from the <a href="/documentation/database/configuration-getting-started">Configuration Section</a>.</p>
<p>Also, for basic knowledge and understanding, please first look at the <a href="/documentation/database/making-queries">Making Queries Section</a></p>

    </div>
  </div>
</div>

<h1 id="introduction">Introduction</h1>
<p>This section covers database functions that can be used to aggregate data in the database. Aggregation functions are used to perform calculations on the data in the database.
These functions can be used to calculate the sum, average, minimum, maximum, and count of the data in the database.</p>
<h2 id="inbuilt-aggregation-functions">Inbuilt Aggregation Functions<a href="#inbuilt-aggregation-functions" class="anchor" aria-hidden="true">#</a> </h2>
<p>Some common aggregation functions have already been implemented in PORM. These functions can be used to perform calculations on the data in the database directly.</p>
<h3 id="count">count<a href="#count" class="anchor" aria-hidden="true">#</a> </h3>
<p>The <code>count</code> function is used to count the number of records in the database. This function can be used to count the number of records in the database that meet certain conditions.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Porm\Porm</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">count</span><span class="p">();</span> <span class="c1">// select count(*) from users
</span></span></span></code></pre></div>
  </figure>
</div>
<p>You can also provide a column name to count the number of records in the database that have a value in the specified column.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Porm\Porm</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">count</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">);</span> <span class="c1">// select count(age) from users
</span></span></span></code></pre></div>
  </figure>
</div>
<p>You can also provide conditions to count the number of records in the database that meet certain conditions.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Porm\Porm</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">count</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">]);</span> <span class="c1">// select count(*) from users where age = 10
</span></span></span></code></pre></div>
  </figure>
</div>
<p>The <code>count</code> function returns the number of records in the database that meet the specified conditions.</p>
<h3 id="sum">sum<a href="#sum" class="anchor" aria-hidden="true">#</a> </h3>
<p>The <code>sum</code> function is used to calculate the sum of the values in a column in the database. This function can be used to calculate the sum of the values in a column in the database that meet certain conditions.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Porm\Porm</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">sum</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">);</span> <span class="c1">// select sum(age) from users
</span></span></span></code></pre></div>
  </figure>
</div>
<p>You can also provide conditions to calculate the sum of the values in a column in the database that meet certain conditions.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Porm\Porm</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">sum</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">]);</span> <span class="c1">// select sum(age) from users where age = 10
</span></span></span></code></pre></div>
  </figure>
</div>
<p>The <code>sum</code> function returns the sum of the values in the column in the database that meet the specified conditions.</p>
<div class="callout callout-note d-flex flex-row mt-4 mb-4 pt-4 pe-4 pb-2 ps-3">
  <svg class="outline/pencil svg-inline callout-icon me-2 mb-3"  xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" ><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 20h4L18.5 9.5a2.828 2.828.0 10-4-4L4 16v4"/><path d="M13.5 6.5l4 4"/></svg>
  <div class="callout-content">
    
    <div class="callout-body">
      <p>All methods that take in a condition can be called after the &ldquo;where&rdquo; method. This is because the &ldquo;where&rdquo; method is used to build the where clause for the query.</p>

    </div>
  </div>
</div>

<h3 id="avg">avg<a href="#avg" class="anchor" aria-hidden="true">#</a> </h3>
<p>The <code>avg</code> function is used to calculate the average of the values in a column in the database. This function can be used to calculate the average of the values in a column in the database that meet certain conditions.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Porm\Porm</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">avg</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">);</span> <span class="c1">// select avg(age) from users
</span></span></span></code></pre></div>
  </figure>
</div>
<p>You can also provide conditions to calculate the average of the values in a column in the database that meet certain conditions.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Porm\Porm</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">avg</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">]);</span> <span class="c1">// select avg(age) from users where age = 10
</span></span></span></code></pre></div>
  </figure>
</div>
<p>The <code>avg</code> function returns the average of the values in the column in the database that meet the specified conditions.</p>
<h3 id="max">max<a href="#max" class="anchor" aria-hidden="true">#</a> </h3>
<p>The <code>max</code> function is used to calculate the maximum value in a column in the database. This function can be used to calculate the maximum value in a column in the database that meet certain conditions.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Porm\Porm</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">max</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">);</span> <span class="c1">// select max(age) from users
</span></span></span></code></pre></div>
  </figure>
</div>
<p>You can also provide conditions to calculate the maximum value in a column in the database that meet certain conditions.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Porm\Porm</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">max</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">]);</span> <span class="c1">// select max(age) from users where age = 10
</span></span></span></code></pre></div>
  </figure>
</div>
<p>The <code>max</code> function returns the maximum value in the column in the database that meet the specified conditions.</p>
<h3 id="min">min<a href="#min" class="anchor" aria-hidden="true">#</a> </h3>
<p>The <code>min</code> function is used to calculate the minimum value in a column in the database. This function can be used to calculate the minimum value in a column in the database that meet certain conditions.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Porm\Porm</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">min</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">);</span> <span class="c1">// select min(age) from users
</span></span></span></code></pre></div>
  </figure>
</div>
<p>You can also provide conditions to calculate the minimum value in a column in the database that meet certain conditions.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Porm\Porm</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s1">&#39;users&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">min</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">10</span><span class="p">]);</span> <span class="c1">// select min(age) from users where age = 10
</span></span></span></code></pre></div>
  </figure>
</div>
<p>The <code>min</code> function returns the minimum value in the column in the database that meet the specified conditions.</p>
<div class="callout callout-note d-flex flex-row mt-4 mb-4 pt-4 pe-4 pb-2 ps-3">
  <svg class="outline/pencil svg-inline callout-icon me-2 mb-3"  xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" ><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 20h4L18.5 9.5a2.828 2.828.0 10-4-4L4 16v4"/><path d="M13.5 6.5l4 4"/></svg>
  <div class="callout-content">
    
    <div class="callout-body">
      <p>All the above methods query the database and return the result. Therefore, you should always call these methods last.</p>

    </div>
  </div>
</div>

<h2 id="using-the-agg-builder">Using the Agg Builder<a href="#using-the-agg-builder" class="anchor" aria-hidden="true">#</a> </h2>
<p>We have also put aside a builder class that can be used to build more complex aggregation queries. The <code>Agg builder</code> comes with a number of methods to cover your aggregation needs.</p>
<h3 id="initializing-the-agg-builder">Initializing the Agg Builder<a href="#initializing-the-agg-builder" class="anchor" aria-hidden="true">#</a> </h3>
<p>To initialize the <code>Agg builder</code>, you can use the <code>builder</code> method.</p>
<p>You must finally call the <code>build</code> method to get the actually build your generated aggregates.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Porm\database\aggregation\Agg</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">$agg</span> <span class="o">=</span> <span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1">// add here your aggregation functions
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="o">-&gt;</span><span class="na">build</span><span class="p">();</span></span></span></code></pre></div>
  </figure>
</div>
<p>Agg builder comes with a number of methods that can be used to build the aggregation query. They include</p>
<h3 id="random">random<a href="#random" class="anchor" aria-hidden="true">#</a> </h3>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Porm\database\aggregation\Agg</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">$agg</span> <span class="o">=</span> <span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="o">-&gt;</span><span class="na">random</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;names&#39;</span><span class="p">)</span> <span class="c1">// rand(names) as names
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="o">-&gt;</span><span class="na">build</span><span class="p">();</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="avg-1">avg<a href="#avg-1" class="anchor" aria-hidden="true">#</a> </h3>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Porm\database\aggregation\Agg</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">$agg</span> <span class="o">=</span> <span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="o">-&gt;</span><span class="na">avg</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="s1">&#39;average_age&#39;</span><span class="p">)</span> <span class="c1">// avg(age) as average_age
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="o">-&gt;</span><span class="na">build</span><span class="p">();</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="compare">compare<a href="#compare" class="anchor" aria-hidden="true">#</a> </h3>
<p>Compare the value of two columns in the database. In comparison we use operators like <code>=</code>, <code>&gt;</code>, <code>&lt;</code>, <code>!=</code>.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">use</span> <span class="nx">Porm\database\aggregation\Agg</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">$agg</span> <span class="o">=</span> <span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="o">-&gt;</span><span class="na">columnsCompare</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;10&#39;</span><span class="p">)</span> <span class="c1">// age &gt; 10
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="o">-&gt;</span><span class="na">build</span><span class="p">();</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="like">like<a href="#like" class="anchor" aria-hidden="true">#</a> </h3>
<p>Used to add a like condition to a query</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">$user</span> <span class="o">=</span> <span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s2">&#34;todos&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">          <span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                <span class="o">-&gt;</span><span class="na">like</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="nv">$name</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="o">-&gt;</span><span class="na">build</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">          <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="c1">// select * from todos where title like &#39;%$name%&#39;
</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="notlike">notLike<a href="#notlike" class="anchor" aria-hidden="true">#</a> </h3>
<p>Used to add a not like condition to a query</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">$user</span> <span class="o">=</span> <span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s2">&#34;todos&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">          <span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                <span class="o">-&gt;</span><span class="na">notLike</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="nv">$name</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="o">-&gt;</span><span class="na">build</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">          <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">          <span class="c1">// select * from todos where title not like &#39;%$name%&#39;
</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="div">div<a href="#div" class="anchor" aria-hidden="true">#</a> </h3>
<p>Used to divide a column by a certain value in the database</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">$user</span> <span class="o">=</span> <span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s2">&#34;todos&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                <span class="o">-&gt;</span><span class="na">div</span><span class="p">(</span><span class="s1">&#39;total&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="o">-&gt;</span><span class="na">build</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// select total/5 from todos
</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="between">between<a href="#between" class="anchor" aria-hidden="true">#</a> </h3>
<p>Adds a between check on a column. It checks if the value of the given column is between two given points.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">$results</span> <span class="o">=</span> <span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s2">&#34;todos&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="o">-&gt;</span><span class="na">between</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="o">-&gt;</span><span class="na">build</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// select * from todos where id between 1 and 10
</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="notbetween">notBetween<a href="#notbetween" class="anchor" aria-hidden="true">#</a> </h3>
<p>Checks if the value of the given column is <code>not between</code> the given points.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nv">$results</span> <span class="o">=</span> <span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s2">&#34;todos&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        <span class="o">-&gt;</span><span class="na">notBetween</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="o">-&gt;</span><span class="na">build</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="jsonified">jsonified<a href="#jsonified" class="anchor" aria-hidden="true">#</a> </h3>
<p>Jsonify the given value and assigns it to the given column.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s2">&#34;todos&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                <span class="o">-&gt;</span><span class="na">jsonified</span><span class="p">(</span><span class="s1">&#39;someAlias&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="o">=&gt;</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="o">=&gt;</span><span class="mi">5</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">                <span class="o">-&gt;</span><span class="na">build</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="p">)</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// select JSON(&#39;x&#39;, 1, &#39;y&#39;, 5) as someAlias from todos
</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="of">of<a href="#of" class="anchor" aria-hidden="true">#</a> </h3>
<p>Multiplies a column by a certain value in the database</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s2">&#34;todos&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                <span class="o">-&gt;</span><span class="na">of</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="o">-&gt;</span><span class="na">build</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="p">)</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// select someAlias*10 from todos
</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="minus">minus<a href="#minus" class="anchor" aria-hidden="true">#</a> </h3>
<p>Subtracts a column by a certain value in the database</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s2">&#34;todos&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                <span class="o">-&gt;</span><span class="na">minus</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="o">-&gt;</span><span class="na">build</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="p">)</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// select someAlias-10 from todos
</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="plus">plus<a href="#plus" class="anchor" aria-hidden="true">#</a> </h3>
<p>Adds a column by a certain value in the database</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s2">&#34;todos&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                <span class="o">-&gt;</span><span class="na">plus</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="o">-&gt;</span><span class="na">build</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="p">)</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// select someAlias+10 from todos
</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="eq">eq<a href="#eq" class="anchor" aria-hidden="true">#</a> </h3>
<p>Opposite of eq. Checks if the value of the given column is <code>equal</code> to the given value.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s2">&#34;todos&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                <span class="o">-&gt;</span><span class="na">eq</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="o">-&gt;</span><span class="na">build</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="p">)</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// select someAlias=10 from todos
</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="neq">neq<a href="#neq" class="anchor" aria-hidden="true">#</a> </h3>
<p>Opposite of eq. Checks if the value of the given is <code>not equal</code> to the given value.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s2">&#34;todos&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">-&gt;</span><span class="na">filter</span><span class="p">(</span><span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">                <span class="o">-&gt;</span><span class="na">neq</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="o">-&gt;</span><span class="na">build</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="p">)</span><span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// select someAlias!=10 from todos
</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="now">now<a href="#now" class="anchor" aria-hidden="true">#</a> </h3>
<p>Assigns the current timestamp to the given alias or column.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s2">&#34;todos&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="o">-&gt;</span><span class="na">update</span><span class="p">(</span><span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">now</span><span class="p">(</span><span class="s2">&#34;updated_at&#34;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">build</span><span class="p">(),</span> <span class="mi">1</span><span class="p">);</span> <span class="c1">// update todos set updated_at = now() where id =1
</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="lt">lt<a href="#lt" class="anchor" aria-hidden="true">#</a> </h3>
<p>Check if the column value is <code>less than</code> the given value.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s2">&#34;todos&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">lt</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">build</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="lte">lte<a href="#lte" class="anchor" aria-hidden="true">#</a> </h3>
<p>Checks if the column value is <code>less than or equal</code> to the given value.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s2">&#34;todos&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">lte</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">build</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">    <span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="gt">gt<a href="#gt" class="anchor" aria-hidden="true">#</a> </h3>
<p>Checks if the column value is <code>greater than</code> the given value.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s2">&#34;todos&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">gt</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">build</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">            <span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="gte">gte<a href="#gte" class="anchor" aria-hidden="true">#</a> </h3>
<p>Checks if the column value is <code>greater than or equal</code> the given value.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">Porm</span><span class="o">::</span><span class="na">from</span><span class="p">(</span><span class="s2">&#34;todos&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="o">-&gt;</span><span class="na">where</span><span class="p">(</span><span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">gte</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">build</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">            <span class="o">-&gt;</span><span class="na">all</span><span class="p">();</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="uuid">uuid<a href="#uuid" class="anchor" aria-hidden="true">#</a> </h3>
<p>This can be used in two ways. The first way is where a uuid is provided and the other way is where you want to sign a unique random uuid to a column.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">$agg</span> <span class="o">=</span> <span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">uuid</span><span class="p">(</span><span class="s1">&#39;code&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">build</span><span class="p">()</span> <span class="c1">// code = uuid()
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="c1">// or with an existing one.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl"><span class="nv">$agg</span> <span class="o">=</span> <span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">uuid</span><span class="p">(</span><span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="nv">$myCoolUuid</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">build</span><span class="p">()</span> <span class="c1">// code = &#39;$myCoolUuid&#39;
</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="max-1">max()<a href="#max-1" class="anchor" aria-hidden="true">#</a> </h3>
<p>Gets the maximum value of the given column and assigns it to the given alias</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">$agg</span> <span class="o">=</span> <span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">max</span><span class="p">(</span><span class="s1">&#39;maxAge&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">build</span><span class="p">()</span> <span class="c1">// MAX(age) as maxAge
</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="min-1">min()<a href="#min-1" class="anchor" aria-hidden="true">#</a> </h3>
<p>Gets the minimum value of the given column and assigns it to the given alias</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">$agg</span> <span class="o">=</span> <span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">min</span><span class="p">(</span><span class="s1">&#39;maxAge&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">build</span><span class="p">()</span> <span class="c1">// MIN(age) as maxAge
</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="sum-1">sum()<a href="#sum-1" class="anchor" aria-hidden="true">#</a> </h3>
<p>Gets the sum of the given column and assigns it to the given alias.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">$agg</span> <span class="o">=</span> <span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">sum</span><span class="p">(</span><span class="s1">&#39;maxAge&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">build</span><span class="p">()</span> <span class="c1">// SUM(age) as maxAge
</span></span></span></code></pre></div>
  </figure>
</div>
<h3 id="regex">regex<a href="#regex" class="anchor" aria-hidden="true">#</a> </h3>
<p>If all above don&rsquo;t work for you, you can use this aggregation function to provide your own regular expression that the db should check against.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">$agg</span> <span class="o">=</span> <span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">regex</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;^d&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">build</span><span class="p">()</span> <span class="c1">// name ~ &#39;^d&#39;
</span></span></span></code></pre></div>
  </figure>
</div>
<h2 id="chaining-multiple">Chaining multiple<a href="#chaining-multiple" class="anchor" aria-hidden="true">#</a> </h2>
<p>You can chain as many aggregations as you with till you call the <code>build()</code> method.</p>



<div class="expressive-code">
  <figure class="frame not-content">
  <figcaption class="header">
    <span class="title"></span>
  </figcaption>
  <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">$agg</span> <span class="o">=</span> <span class="nx">Agg</span><span class="o">::</span><span class="na">builder</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="o">-&gt;</span><span class="na">regex</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;^d&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">-&gt;</span><span class="na">gte</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">-&gt;</span><span class="na">build</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// name ~ &#39;^d&#39; and age &gt;= 10
</span></span></span></code></pre></div>
  </figure>
</div>

			<div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between">
				<div class="last-modified">
    <a href="https://github.com/PioniaPHP-project/pionia-docs/commit/71db90c9c867145fe6f2a20b9fb6cf9abb9157fe">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
      Last updated on October 7, 2024
    </a>
  </div>

				


  













<div class="edit-page">
  <a href="https://github.com/PioniaPHP-project/pionia-docs/blob/main/content//docs/documentation/database/functions.md">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2">
      <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>
    </svg>
    Edit this page on GitHub
  </a>
</div>

				</div>
			<div class="page-nav d-flex flex-column flex-sm-row">
	
	<div class="card w-100">
			<div class="card-body d-flex">
				<div class="d-flex flex-column justify-content-center">
					<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-left" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
						<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
						<path d="M5 12l14 0"></path>
						<path d="M5 12l6 6"></path>
						<path d="M5 12l6 -6"></path>
				 	</svg>
				</div>
				<div class="d-flex flex-column">
					<div class="text-body-secondary">Prev</div>
					<a href="/documentation/database/relationships/" class="stretched-link text-reset text-decoration-none">Relationships</a>
				</div>
			</div>
		</div>
	<div class="m-2"></div>
	<div class="card text-end w-100">
			<div class="card-body d-flex justify-content-end">
				<div class="d-flex flex-column">
					<div class="text-body-secondary">Next</div>
					<a href="/reference/example-reference/" class="stretched-link text-reset text-decoration-none">Example Reference</a>
				</div>
				<div class="d-flex flex-column justify-content-center">
					<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-right" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
						<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
						<path d="M5 12l14 0"></path>
						<path d="M13 18l6 -6"></path>
						<path d="M13 6l6 6"></path>
					</svg>
				</div>
			</div>
		</div>
	</div>

			
		</main>
		
	</div>

      
      </div>
    </div>
    
    
    <footer class="footer text-muted">
  <div class="container-sm">
    <div class="row">
      <div class="col-lg-8 text-center text-lg-start">
        <ul class="list-inline">
          <li class="list-inline-item"><a class="text-muted" href="/privacy/">Privacy Policy</a></li>
        </ul>
      </div>
      <div class="col-lg-8 text-center text-lg-end">
        <ul class="list-inline">
          <li class="list-inline-item">Brought to you by <a class="text-muted" href="https://servicecops.com/">Service Cops</a></li>
        </ul>
      </div>
    </div>
  </div>
</footer>

    

<script async
  src="/js/app.fee9f8ec7475f74b15d2b2c76604e00670c577ef11ab1b2c92344ab979b9ace4.js"
  integrity="sha256-/un47HR190sV0rLHZgTgBnDFd&#43;8RqxsskjRKuXm5rOQ=">
</script>





<script async
  src="/js/flexsearch.f41f5ca0007df2c47e9e7872158f93feda934e4cc9dbcbc02e471503b49d8087.js"
  integrity="sha256-9B9coAB98sR&#43;nnhyFY&#43;T/tqTTkzJ28vALkcVA7SdgIc=">
</script>
<script async
  src="/js/search-modal.bbdea845b287fc7f22a081c11a25b5bbfa96e74e43b36be5733f16439caf46be.js"
  integrity="sha256-u96oRbKH/H8ioIHBGiW1u/qW505Ds2vlcz8WQ5yvRr4=">
</script>

    <div class="d-inline-flex fixed-bottom-right pb-4 pe-4">
  <button id="toTop" type="button" class="btn btn-primary rounded-circle ms-auto p-2"><span class="visually-hidden">Top</span><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-up" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M6 15l6 -6l6 6"></path></svg></button>
</div>

    
  </body>
</html>